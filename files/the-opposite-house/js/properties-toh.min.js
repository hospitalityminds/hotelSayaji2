var houseWrap,houseTween,houseTimeline,houseTween1,houseTween2,houseScene;function us(){ww=$(window).width(),wh=$(window).height(),ws=$(window).scrollTop()}function checkResize(){us()}function TohHouse(){ScrollTrigger.create({trigger:"#triggerHouseThis",start:"top top",end:"+=120%",pin:".home-house"})}function handle_houseTween(){ScrollTrigger.create({trigger:"#triggerHouseThis",start:"top 0",end:"+=70%",scrub:1,duration:0,onRefresh:function(e){ww<768&&$(".canvas-wrapper").attr("style","")},onUpdate:function(e){if(ww>=992){var n=.64*window.innerWidth,o=.64*window.innerWidth*.62,t=window.innerWidth-n,a=window.innerHeight-o,i=n+t*e.progress.toFixed(3),r=o+a*e.progress.toFixed(3);gsap.to(".canvas-wrapper",{width:i,height:r})}else $(".canvas-wrapper").attr("style","")}})}function houseResize(){$(".page--home").length>0&&(ww,ww)}function propertyBookingPanelCreateLink(){$(".booking-panel").length>0&&$(".booking-panel .btn--submit").click((function(e){e.preventDefault();let n=$(".booking-panel").attr("data-value"),o=$(".booking-panel input.t-input-check-in").attr("value"),t=$(".booking-panel input.t-input-check-out").attr("value"),a="";switch($("html").attr("lang")){case"en":a="en-US";break;case"zh-hk":a="zh-TW";break;case"zh-cn":a="zh-CN";break;default:a="en-US"}trackingBookingSubmit("https://be.synxis.com?Hotel="+n+"&arrive="+o+"&depart="+t+"&locale="+a,n,o,t)}))}gsap.registerPlugin(ScrollTrigger),$((function(){if(propertyBookingPanelCreateLink(),$(".location").length>0){let t=$("#GaodeMap"),a=t.data("lat"),i=t.data("lng"),r=t.data("zoom");var e=new AMap.Map("GaodeMap",{mapStyle:"amap://styles/whitesmoke",zoom:r,center:[i,a],viewMode:"3D"}),n=new AMap.Icon({size:new AMap.Size(73,75),image:"/files/the-opposite-house/img/map-marker@2x.png",imageSize:new AMap.Size(26,42)}),o=new AMap.Marker({position:[i,a],icon:n,title:"瑜舍"});e.add(o),AMap.plugin(["AMap.ToolBar","AMap.Scale"],(function(){e.addControl(new AMap.ToolBar),e.addControl(new AMap.Scale)}))}$(".page--home").length>0&&(TohHouse(),ww>=768&&handle_houseTween()),$(window).scroll((function(){us()})),$(window).resize((function(){checkResize(),$(".page--home").length>0&&houseResize()}))}));