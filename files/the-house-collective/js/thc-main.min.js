var houseIndex,speedDuration=800,delayDuration=4e3;let imgViewport="";function us(){ww=$(window).width(),wh=$(window).height(),ws=$(window).scrollTop()}function checkResize(){us()}function homeAnchorClick(){$(".anchor__nav").each((function(){$this=$(this);var e="#"+$(this).data("anchor");$this.click((function(){let i=$(""+e).offset().top;setTimeout((function(){$("html, body").animate({scrollTop:i},1e3,"swing")}),200)}))})),$(".anchor__nav").find(".shape").mouseenter((function(){$(this);$(this).parent(".anchor__nav").addClass("active")})).mouseleave((function(){$(this).parent(".anchor__nav").removeClass("active")}))}function progressBarAnimation(){let e=$(".home-people__slider--img .swiper-slide").length-2,i=delayDuration*e+speedDuration*(e-1);anime.timeline({loop:!0}).add({targets:".ppl-progress-bar",width:["0%","100%"],easing:"linear",duration:i}).add({targets:".ppl-progress-bar",width:["100%","0%"],easing:"easeInOutCubic",duration:speedDuration})}function homeHouseVid(){$(".houses__vid").length>0&&$(".hmHouseVid").each((function(){if($this=$(this),thisVid=$(this).attr("id"),$(".hmHouseVid:visible").length>0)var e=amp(thisVid,{techOrder:["azureHtml5JS","html5FairPlayHLS","html5"],nativeControlsForTouch:!1,autoplay:!0,controls:!1},(function(){e.play()}));else{let e=$("#"+thisVid).get(0).outerHTML;$("#"+thisVid).parent().attr("video-html",e),$("#"+thisVid).remove()}}))}function checkhomeHouseVid(){$(".houses__vid-wrap").each((function(){let e=$(this);if(e.is(":visible")&&0==e.find("video").length){let i=e.attr("video-html");e.append(i);let t=e.find("video").attr("id"),s=amp(t,{techOrder:["azureHtml5JS","html5FairPlayHLS","html5"],nativeControlsForTouch:!1,autoplay:!0,controls:!1},(function(){s.play()}))}}))}$((function(){checkResize(),homeHouseVid(),homeAnchorClick();let e=document.referrer;$(".preload").fadeOut(800),""==e&&($(".open-animation").css("display","block"),$(".page--home").length>0&&($(".home-hero .bottom-wrap, .header--desktop, .header--mobile").addClass("shy"),setTimeout((function(){$(".open-animation").css("display","none"),$(".home-hero .bottom-wrap, .header--desktop, .header--mobile").removeClass("shy")}),4800)));new Swiper($(".home-people__slider.home-people__slider--img"),{watchSlidesProgress:!0,watchSlidesVisibility:!0,autoplay:{delay:delayDuration},on:{init:function(){},slideChangeTransitionStart:function(){let e=1/this.slides.length,i=(this.activeIndex+1)*e*100+"%";$(".ppl-progress-bar").stop(1,1).animate({width:i},delayDuration+speedDuration,"linear"),i=100*e+"%"},reachBeginning:function(){$(".ppl-progress-bar").stop(1,1).css({width:"0%"})}},effect:"fade",speed:speedDuration,fadeEffect:{crossFade:!0}}),new Swiper($(".home-people__slider.home-people__slider--quote"),{watchSlidesProgress:!0,watchSlidesVisibility:!0,autoplay:{delay:delayDuration},on:{init:function(){}},effect:"fade",speed:speedDuration,fadeEffect:{crossFade:!0}});var i=new Swiper(".home-houses__slider--content",{effect:"fade",speed:speedDuration,fadeEffect:{crossFade:!0}}),t=$(".home-houses__slider--img");t.find(".slide:eq(0)").addClass("active"),$(".house-logo-item").mouseenter((function(){houseIndex=$(this).data("index"),i.slideTo(houseIndex),$(".house-logo-item").not(this).addClass("opacity"),t.find(".slide").not(".slide:eq(0)").removeClass("active"),t.find(".slide:eq("+houseIndex+")").addClass("active")})).mouseleave((function(){$(".house-logo-item").removeClass("opacity"),t.find(".slide").not(".slide:eq(0)").removeClass("active"),t.find(".slide:eq(0)").addClass("active"),i.slideTo(0)}));var s=$(".home-offers__slider--img"),o=new Swiper(s,{effect:"fade",noSwiping:!0,fadeEffect:{crossFade:!0},on:{init:function(){$(this.slides[this.realIndex]).addClass("animate")},slideChange:function(){let e=this;$(e.slides[e.realIndex]).addClass("animate"),setTimeout((function(){$.each(e.slides,(function(i){i!=e.realIndex&&$(this).removeClass("animate")}))}),speedDuration)}},breakpoints:{992:{noSwiping:!1}}}),a=$(".home-offers__slider--content");new Swiper(a,{autoplay:{delay:delayDuration},autoHeight:!0,loop:!1,slidesPerView:1,effect:"fade",speed:speedDuration,fadeEffect:{crossFade:!0},controller:{control:o},pagination:{el:".home-offers__slider--content .swiper-pagination",type:"bullets",clickable:!0}});1==a.find(".swiper-slide").length&&(a.addClass("swiper-no-swiping"),a.find(".swiper-pagination").css("display","none"));new Swiper(".home-follow__slider",{freeMode:!0,slidesPerView:4.5,spaceBetween:5,slidesOffsetAfter:50,slidesOffsetBefore:40,slidesOffsetAfter:40,breakpoints:{768:{slidesPerView:2.2,slidesOffsetBefore:20,slidesOffsetAfter:20},991:{slidesPerView:3.3,slidesOffsetBefore:20,slidesOffsetAfter:20}}});$(window).resize((function(){us(),checkResize(),checkhomeHouseVid(),$(".lazyload").each((function(e){var i=$(this),t=$(this).find("img");let s=i.data("src-d"),o=i.data("src-m"),a=t.data("src-d"),n=t.data("src-m");ww>=992&&"desktop"!=imgViewport&&0==i.children().length?(i.attr("style","background-image:url("+s+")"),e==$(".lazyload").length-1&&(imgViewport="desktop")):ww<992&&"mobile"!=imgViewport&&0==i.children().length&&(i.attr("style","background-image:url("+o+")"),e==$(".lazyload").length-1&&(imgViewport="mobile")),ww>=992&&"desktop"!=imgViewport&&i.children().length>0?(t.attr("src",""+a),e==$(".lazyload").length-1&&(imgViewport="desktop")):ww<992&&"mobile"!=imgViewport&&i.children().length>0&&(t.attr("src",""+n),e==$(".lazyload").length-1&&(imgViewport="mobile"))}))})),$(window).scroll((function(){if(ww<=768){$(".houses-m-wrapper").each((function(e){let i=$(this);i.offset().top<=ws+.7*wh&&i.offset().top+i.outerHeight(!0)>ws+.7*wh&&(t.find(".slide").not(".slide:eq(0)").removeClass("active"),t.find(".slide:eq("+e+")").addClass("active"))}))}})),$(window).trigger("resize")}));