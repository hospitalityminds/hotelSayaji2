function us(){ww=$(window).width(),wh=$(window).height(),ws=$(window).scrollTop()}function checkResize(){us()}function splitSlide(){$(".slideshow .slider");let e=$(".home-house-slider--r .swiper-slide").length,o=$(".home-house-slider").clone().removeClass("home-house-slider--r").addClass("home-house-slider--l").appendTo($(".home-house .bgslider-wrapper")),n=$(".home-house-slider--l .swiper-slide").toArray().reverse();for($(".slider",o).html(""),i=0;i<e;i++)$(n[i]).appendTo($(".home-house-slider--l .swiper-wrapper"));let t=new Swiper(".home-house-slider--r",{direction:"vertical",speed:800}),a=new Swiper(".home-house-slider--l",{direction:"vertical",initialSlide:e-1,speed:800}),l=new Swiper(".home-house-content-slider",{direction:"vertical",speed:800});ScrollTrigger.create({trigger:"#triggerHouseThis",start:"top top",end:"+="+100*(e+1)+"%",pin:".home-house",onUpdate:function(i){let o=i.progress.toFixed(3),n=1/e;for(var r=0;r<e;r++)o>=n*r&&(l.slideTo(r),t.slideTo(r),a.slideTo(e-(r+1)))}})}function propertyBookingPanelCreateLink(){$(".booking-panel").length>0&&$(".booking-panel .btn--submit").click((function(e){e.preventDefault();let i=$(".booking-panel").attr("data-value"),o=$(".booking-panel input.t-input-check-in").attr("value"),n=$(".booking-panel input.t-input-check-out").attr("value"),t="";switch($("html").attr("lang")){case"en":t="en-US";break;case"zh-hk":t="zh-TW";break;case"zh-cn":t="zh-CN";break;default:t="en-US"}trackingBookingSubmit("https://be.synxis.com?Hotel="+i+"&arrive="+o+"&depart="+n+"&locale="+t,i,o,n)}))}gsap.registerPlugin(ScrollTrigger),$((function(){if(propertyBookingPanelCreateLink(),$(".location").length>0){let n=$("#GaodeMap"),t=n.data("lat"),a=n.data("lng"),l=n.data("zoom");var e=new AMap.Map("GaodeMap",{mapStyle:"amap://styles/whitesmoke",zoom:l,center:[a,t],viewMode:"3D"}),i=new AMap.Icon({size:new AMap.Size(73,75),image:"/files/the-middle-house/img/map-marker@2x.png",imageSize:new AMap.Size(26,42)}),o=new AMap.Marker({position:[a,t],icon:i,title:"博舍"});e.add(o),AMap.plugin(["AMap.ToolBar","AMap.Scale"],(function(){e.addControl(new AMap.ToolBar),e.addControl(new AMap.Scale)}))}$(".page--home").length>0&&splitSlide(),$(window).scroll((function(){us()})),$(window).resize((function(){checkResize(),$(".page--home").length}))}));